const container = document.querySelector(".container");
const thumbnail = document.querySelector(".thumbnail");
let size = 30;
const color = document.querySelector(".color");

let draw = false;

const settingButton = document.querySelector(".setting-btn");
const brushBoard = document.querySelector(".brush-board");

const brushButton = document.querySelector(".brush-btn");
const xButton = document.querySelector(".x-btn");

let curBrush = "O";

settingButton.addEventListener("click", function () {
  if (brushBoard.style.display == "none") brushBoard.style.display = "block";
  else brushBoard.style.display = "none";
});

xButton.addEventListener("click", function () {
  curBrush = "X";
});

brushButton.addEventListener("click", function () {
  curBrush = "O";
});

// 가로줄(-) 개수
const ROW_SIZE = 40;

// 세로줄(|) 개수
const COL_SIZE = 38;

// 비어있으면 0 , 칠해져있으면 1, X면 -1
const pixelMap = new Array(ROW_SIZE).fill(1).map((_) => {
  return new Array(COL_SIZE).fill(0);
});

/*************************************** */

const col_clues = [
  [4, 2],
  [6, 4],
  [12, 3, 7],
  [8, 3, 1, 4, 2],
  [3, 6, 1],
  [3, 1, 3, 1, 9],
  [6, 3, 2, 6, 1],
  [3, 2, 2, 5],
  [3, 3, 2, 2],
  [2, 2, 2, 2],
  [3, 2, 2, 1, 2],
  [3, 2, 2, 1, 2],
  [2, 1, 3, 3],
  [1, 6, 1],
  [3, 5, 4],
  [11, 4, 6],
  [3, 1, 22, 2],
  [4, 2, 1, 8, 2],
  [2, 2, 2, 2, 1, 4, 3],
  [2, 5, 2],
  [1, 1, 3],
  [1, 5, 5],
  [3, 2, 2, 1],
  [2, 1, 2, 5],
  [3, 7, 3],
  [3, 12, 2],
  [3, 8, 6],
  [2, 3, 3, 2, 5, 2],
  [3, 5, 4, 5],
  [3, 5, 5, 6],
  [2, 3, 4, 4],
  [1, 6, 3, 3],
  [4, 4, 1, 2],
  [2, 4, 3, 2],
  [5, 2, 3],
  [4, 1, 3, 2, 2, 2],
  [2, 13, 5, 2],
  [2, 6, 1, 2],
];

const row_clues = [
  [2, 1],
  [3, 2, 2],
  [4, 3, 2],
  [3, 2, 3, 2],
  [1, 2, 1, 3, 5],
  [3, 2, 2, 2, 3, 1, 2],
  [1, 2, 2, 5, 2, 2, 3],
  [3, 4, 1, 1, 1, 2, 1],
  [1, 1, 2, 1, 2, 2, 2, 3, 1],
  [1, 2, 2, 1, 3, 3, 2],
  [2, 1, 1, 1, 5, 2, 1],
  [2, 3, 2, 3, 2, 2, 2, 1],
  [2, 5, 2, 1, 1, 2, 3, 2],
  [2, 3, 2, 2, 2, 3, 2],
  [2, 2, 1, 2, 2, 2],
  [1, 3, 2, 1, 2, 1, 2],
  [1, 5, 1, 2, 2, 2, 2],
  [1, 4, 1, 3, 2, 2, 2],
  [2, 1, 2, 2, 1, 3, 3, 1],
  [2, 2, 1, 1, 2, 1, 3, 3, 1],
  [3, 2, 1, 1, 4, 2, 4],
  [3, 4, 2, 2, 4, 1, 1, 2, 1],
  [2, 5, 2, 2, 1, 3, 2],
  [2, 2, 2, 2, 3, 3, 2],
  [3, 2, 2, 2, 2, 2, 1],
  [2, 1, 2, 1, 3, 1],
  [2, 2, 2, 1, 1, 2, 2, 1],
  [2, 2, 3, 1, 3, 3],
  [2, 1, 3, 2, 2, 2],
  [2, 2, 3, 2, 3, 1],
  [1, 2, 2, 2, 1, 2],
  [2, 2, 2, 4, 3],
  [2, 1, 2, 3, 2],
  [2, 1, 1, 3],
  [2, 1, 1, 4],
  [1, 1, 1, 5],
  [2, 2, 1, 4],
  [4, 2, 2, 4],
  [5, 4, 5],
  [2, 4, 4],
];

const solution = [
  [
    -1, -1, -1, -1, -1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, -1, -1, -1, -1, -1, -1, -1, -1,
  ],
  [
    -1, -1, -1, -1, -1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1,
  ],
  [
    -1, -1, -1, -1, -1, 1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, 1, 1, 1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1,
  ],
  [
    -1, -1, -1, -1, -1, -1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, 1, 1, -1, -1,
    -1, -1, -1, 1, 1, 1, -1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
  ],
  [
    -1, -1, -1, -1, -1, -1, 1, -1, 1, 1, -1, -1, -1, -1, 1, -1, 1, 1, 1, -1, -1,
    -1, -1, 1, 1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
  ],
  [
    -1, -1, -1, -1, 1, 1, 1, -1, -1, 1, 1, -1, -1, -1, 1, 1, -1, -1, 1, 1, -1,
    -1, -1, -1, 1, 1, 1, -1, -1, -1, -1, -1, 1, -1, -1, -1, 1, 1,
  ],
  [
    -1, -1, -1, -1, 1, -1, -1, -1, -1, -1, 1, 1, -1, -1, 1, 1, -1, -1, -1, 1, 1,
    1, 1, 1, -1, -1, 1, 1, -1, -1, -1, -1, 1, 1, -1, 1, 1, 1,
  ],
  [
    -1, -1, -1, 1, 1, 1, -1, -1, -1, -1, 1, 1, 1, 1, -1, 1, -1, -1, -1, -1, -1,
    -1, 1, -1, -1, -1, -1, 1, -1, -1, -1, -1, 1, 1, -1, 1, -1, -1,
  ],
  [
    -1, -1, -1, 1, -1, 1, -1, -1, -1, -1, -1, 1, 1, -1, -1, 1, -1, -1, -1, -1,
    -1, 1, 1, -1, 1, 1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1,
  ],
  [
    -1, -1, -1, 1, -1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 1, -1, -1, -1,
    -1, 1, -1, 1, 1, 1, -1, -1, 1, 1, 1, -1, -1, -1, -1, 1, 1, -1,
  ],
  [
    -1, -1, 1, 1, -1, -1, 1, -1, -1, -1, -1, -1, -1, -1, -1, 1, -1, 1, -1, -1,
    -1, 1, 1, 1, 1, 1, -1, -1, 1, 1, -1, -1, -1, -1, -1, -1, 1, -1,
  ],
  [
    -1, -1, 1, 1, -1, -1, 1, 1, 1, -1, -1, 1, 1, -1, -1, 1, 1, 1, -1, -1, -1, 1,
    1, -1, 1, 1, -1, -1, 1, 1, -1, -1, -1, -1, -1, -1, 1, -1,
  ],
  [
    -1, -1, 1, 1, -1, -1, -1, 1, 1, 1, 1, 1, -1, -1, -1, 1, 1, -1, 1, -1, -1, 1,
    -1, -1, 1, 1, -1, -1, 1, 1, 1, -1, -1, -1, -1, -1, 1, 1,
  ],
  [
    -1, -1, 1, 1, -1, -1, -1, -1, 1, 1, 1, -1, -1, -1, -1, 1, 1, -1, 1, 1, -1,
    -1, -1, -1, 1, 1, -1, -1, -1, 1, 1, 1, -1, -1, -1, -1, 1, 1,
  ],
  [
    -1, -1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 1, -1, -1, 1,
    -1, -1, -1, -1, 1, 1, -1, -1, -1, -1, 1, 1, -1, -1, -1, -1, 1, 1,
  ],
  [
    -1, -1, 1, -1, -1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, 1, 1, -1, -1, 1, -1,
    -1, -1, -1, -1, 1, 1, -1, -1, -1, -1, 1, -1, -1, -1, -1, 1, 1,
  ],
  [
    -1, -1, 1, -1, -1, -1, 1, 1, 1, 1, 1, -1, -1, -1, -1, -1, 1, -1, 1, 1, -1,
    -1, -1, -1, -1, 1, 1, -1, -1, -1, -1, 1, 1, -1, -1, -1, 1, 1,
  ],
  [
    -1, -1, 1, -1, -1, -1, -1, -1, 1, 1, 1, 1, -1, -1, -1, -1, 1, -1, 1, 1, 1,
    -1, -1, -1, -1, 1, 1, -1, -1, -1, -1, 1, 1, -1, -1, -1, 1, 1,
  ],
  [
    -1, -1, 1, 1, -1, -1, -1, 1, -1, -1, -1, 1, 1, -1, -1, -1, 1, 1, -1, -1, -1,
    1, -1, -1, -1, 1, 1, 1, -1, -1, -1, 1, 1, 1, -1, -1, 1, -1,
  ],
  [
    -1, -1, 1, 1, -1, -1, 1, 1, -1, -1, -1, -1, 1, -1, -1, -1, 1, -1, 1, 1, -1,
    1, -1, -1, -1, 1, 1, 1, -1, -1, -1, -1, 1, 1, 1, -1, 1, -1,
  ],
  [
    -1, 1, 1, 1, -1, -1, 1, 1, -1, -1, -1, -1, 1, -1, -1, -1, 1, -1, -1, 1, 1,
    1, 1, -1, -1, -1, 1, 1, -1, -1, -1, -1, -1, 1, 1, 1, 1, -1,
  ],
 